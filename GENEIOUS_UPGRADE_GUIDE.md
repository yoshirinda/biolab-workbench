# BioLab Workbench - Geneious åŠŸèƒ½å‡çº§æŒ‡å—

## ğŸ‰ å·²å®Œæˆçš„åŠŸèƒ½

### 1. Open Vector Editor (OVE) é›†æˆ âœ…

**ä½ç½®**: `frontend/src/components/AdvancedSequenceEditor.tsx`

**åŠŸèƒ½**:
- âœ… ç¯å½¢å’Œçº¿æ€§åºåˆ—è§†å›¾è‡ªåŠ¨åˆ‡æ¢
- âœ… å†…ç½®é…¶åˆ‡ä½ç‚¹åˆ†æ
- âœ… ORF æŸ¥æ‰¾å™¨
- âœ… ç‰¹å¾æ³¨é‡Šç¼–è¾‘ï¼ˆæ‹–æ‹½å¼ï¼‰
- âœ… ç¿»è¯‘æŸ¥çœ‹å™¨
- âœ… ä¿å­˜/å¤åˆ¶åŠŸèƒ½ï¼ˆä¿ç•™æ³¨é‡Šï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```tsx
import AdvancedSequenceEditor from './components/AdvancedSequenceEditor';

<AdvancedSequenceEditor
  sequence={yourSequence}
  onSave={(savedSeq) => console.log('Saved:', savedSeq)}
  readOnly={false}
  height="600px"
/>
```

---

### 2. GenBank æ–‡ä»¶å®Œæ•´æ”¯æŒ âœ…

**ä½ç½®**: `frontend/src/utils/fileParser.ts`

**æ”¯æŒæ ¼å¼**:
- âœ… GenBank (.gb, .genbank)
- âœ… FASTA (.fasta, .fa, .faa, .fna)
- âœ… SnapGene (.dna)
- âœ… JSON (TeselaGen æ ¼å¼)
- âœ… è‡ªåŠ¨æ ¼å¼æ£€æµ‹

**ä½¿ç”¨æ–¹æ³•**:
```typescript
import { parseSequenceFile, toGenbankFormat, toFastaFormat } from './utils/fileParser';

// è§£ææ–‡ä»¶
const sequences = await parseSequenceFile(file);

// å¯¼å‡ºä¸º GenBank
const gbContent = toGenbankFormat(sequence);

// å¯¼å‡ºä¸º FASTA
const fastaContent = toFastaFormat([sequence]);
```

---

### 3. æ‹–æ‹½å¯¼å…¥åŠŸèƒ½ âœ…

**ä½ç½®**: `frontend/src/App-Enhanced.tsx`

**åŠŸèƒ½**:
- âœ… æ‹–æ‹½æ–‡ä»¶ç›´æ¥å¯¼å…¥
- âœ… å¤šæ–‡ä»¶æ‰¹é‡ä¸Šä¼ 
- âœ… è‡ªåŠ¨è§£æåºåˆ—æ ¼å¼
- âœ… å³æ—¶é¢„è§ˆç¬¬ä¸€ä¸ªåºåˆ—

**ä½“éªŒ**:
1. ç›´æ¥æ‹–æ‹½ .gb æˆ– .fasta æ–‡ä»¶åˆ°å·¦ä¾§é¢æ¿
2. æˆ–ç‚¹å‡»"å¯¼å…¥"æŒ‰é’®é€‰æ‹©æ–‡ä»¶
3. è‡ªåŠ¨è§£æå¹¶æ·»åŠ åˆ°é¡¹ç›®æ ‘
4. ç«‹å³å¯ä»¥æŸ¥çœ‹å’Œç¼–è¾‘

---

### 4. å³é”®èœå•å¢å¼º âœ…

**åŠŸèƒ½**:
- âœ… å¯¼å‡ºä¸º GenBank
- âœ… å¯¼å‡ºä¸º FASTA  
- âœ… å¤åˆ¶åºåˆ—
- âœ… é‡å‘½å
- âœ… åˆ é™¤

---

## ğŸ“‹ å¾…å®ç°åŠŸèƒ½

### 5. æ™ºèƒ½å¤åˆ¶ç²˜è´´ (è®¡åˆ’ä¸­)

**ç›®æ ‡**: å¤åˆ¶æ—¶ä¿ç•™æ³¨é‡Šä¿¡æ¯

**å®ç°æ€è·¯**:
```typescript
// frontend/src/hooks/useSmartClipboard.ts
export function useSmartClipboard() {
  const handleCopy = async (selection) => {
    // æ„é€  GenBank æ ¼å¼ï¼ˆå¸¦æ³¨é‡Šï¼‰
    const genbankText = jsonToGenbank(selection);
    
    // åŒæ—¶å¤åˆ¶çº¯åºåˆ—å’Œå¸¦æ³¨é‡Šç‰ˆæœ¬
    await navigator.clipboard.write([
      new ClipboardItem({
        'text/plain': new Blob([selection.seq]),
        'text/x-genbank': new Blob([genbankText])
      })
    ]);
  };
  
  return { handleCopy };
}
```

---

### 6. é…¶åˆ‡ä½ç‚¹åˆ†æå™¨ (è®¡åˆ’ä¸­)

**ç›®æ ‡**: å†…ç½®å¸¸ç”¨é™åˆ¶æ€§å†…åˆ‡é…¶åº“

**å®ç°æ€è·¯**:
```typescript
// frontend/src/components/EnzymeAnalyzer.tsx
import { findCutSites } from "@teselagen/sequence-utils";

const commonEnzymes = ['EcoRI', 'BamHI', 'HindIII', 'PstI'];
const cutSites = findCutSites(sequence, commonEnzymes);
```

---

### 7. å¤šåºåˆ—æ¯”å¯¹å¯è§†åŒ– (è®¡åˆ’ä¸­)

**ä¾èµ–**: `react-alignment-viewer`

**å®ç°**:
```bash
npm install react-alignment-viewer
```

```typescript
import { AlignmentViewer } from 'react-alignment-viewer';

<AlignmentViewer
  data={alignmentData}
  colorScheme="clustal"
  conservation={true}
/>
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd frontend
npm run dev
```

### 2. æµ‹è¯•æ–°åŠŸèƒ½

æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173

**æµ‹è¯•æ­¥éª¤**:
1. æ‹–æ‹½ä¸€ä¸ª .gb æ–‡ä»¶åˆ°å·¦ä¾§é¢æ¿
2. æŸ¥çœ‹ç¯å½¢è´¨ç²’å›¾è°±
3. ç‚¹å‡»"å·¥å…·" â†’ "Cut Sites" æŸ¥çœ‹é…¶åˆ‡ä½ç‚¹
4. å³é”®åºåˆ— â†’ å¯¼å‡ºä¸ºä¸åŒæ ¼å¼

---

## ğŸ“¦ ä¾èµ–åŒ…è¯´æ˜

### æ ¸å¿ƒä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| `@teselagen/ove` | latest | åºåˆ—ç¼–è¾‘å™¨æ ¸å¿ƒ |
| `@teselagen/bio-parsers` | latest | æ–‡ä»¶æ ¼å¼è§£æ |
| `@teselagen/sequence-utils` | latest | åºåˆ—å·¥å…·å‡½æ•° |
| `react-resizable-panels` | ^1.0.4 | å¯è°ƒæ•´é¢æ¿ |
| `antd` | ^6.1.0 | UI ç»„ä»¶åº“ |
| `lucide-react` | latest | å›¾æ ‡åº“ |

### å®‰è£…å‘½ä»¤

```bash
cd frontend
npm install @teselagen/ove @teselagen/bio-parsers @teselagen/sequence-utils react-alignment-viewer
```

---

## ğŸ¨ UI/UX æ”¹è¿›

### 1. Geneious é£æ ¼å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶éƒ¨èœå•æ : æ–‡ä»¶ | ç¼–è¾‘ | å·¥å…· | å¸®åŠ©    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                      â”‚          â”‚
â”‚ åºåˆ—åº“  â”‚   åºåˆ—ç¼–è¾‘å™¨          â”‚  å±æ€§é¢æ¿ â”‚
â”‚ (20%)  â”‚   (60%)              â”‚  (20%)   â”‚
â”‚        â”‚   [è´¨ç²’å›¾è°±]          â”‚  - åŸºæœ¬ä¿¡æ¯â”‚
â”‚ [æ‹–æ‹½åŒº]â”‚   [çº¿æ€§è§†å›¾]          â”‚  - æ³¨é‡Šåˆ—è¡¨â”‚
â”‚        â”‚   [ç‰¹å¾è½¨é“]          â”‚  - ç»Ÿè®¡   â”‚
â”‚        â”‚                      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å¿«æ·é”®æ”¯æŒ (å¾…å®ç°)

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| Ctrl+O | æ‰“å¼€æ–‡ä»¶ |
| Ctrl+S | ä¿å­˜åºåˆ— |
| Ctrl+C | æ™ºèƒ½å¤åˆ¶ |
| Ctrl+V | æ™ºèƒ½ç²˜è´´ |
| Ctrl+F | æŸ¥æ‰¾åºåˆ— |
| Ctrl+R | åå‘äº’è¡¥ |
| Ctrl+T | ç¿»è¯‘ |

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1: OVE ç¼–è¾‘å™¨æ— æ³•æ˜¾ç¤º

**åŸå› **: React ç‰ˆæœ¬å†²çª

**è§£å†³**:
```bash
npm install --legacy-peer-deps
```

### é—®é¢˜ 2: æ–‡ä»¶è§£æå¤±è´¥

**æ£€æŸ¥**:
1. æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
2. æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 3: TypeScript ç±»å‹é”™è¯¯

**è§£å†³**: ç±»å‹å£°æ˜æ–‡ä»¶å·²æ·»åŠ 
- `frontend/src/types/ove.d.ts`

---

## ğŸ“Š ä¸ Geneious åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Geneious | BioLab (å½“å‰) | çŠ¶æ€ |
|------|----------|--------------|------|
| GenBank å¯¼å…¥ | âœ… | âœ… | å®Œæˆ |
| è´¨ç²’å›¾è°± | âœ… | âœ… | å®Œæˆ |
| é…¶åˆ‡ä½ç‚¹ | âœ… | âœ… | å®Œæˆ(OVEå†…ç½®) |
| ç‰¹å¾ç¼–è¾‘ | âœ… | âœ… | å®Œæˆ |
| æ‹–æ‹½å¯¼å…¥ | âœ… | âœ… | å®Œæˆ |
| å¤šæ ¼å¼å¯¼å‡º | âœ… | âœ… | å®Œæˆ |
| ORF æŸ¥æ‰¾ | âœ… | âœ… | å®Œæˆ(OVEå†…ç½®) |
| æ™ºèƒ½å¤åˆ¶ç²˜è´´ | âœ… | â³ | è®¡åˆ’ä¸­ |
| å¼•ç‰©è®¾è®¡ | âœ… | â³ | è®¡åˆ’ä¸­ |
| å¤šåºåˆ—æ¯”å¯¹å¯è§†åŒ– | âœ… | â³ | è®¡åˆ’ä¸­ |

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)

1. âœ… ~~é›†æˆ OVE~~ (å·²å®Œæˆ)
2. âœ… ~~GenBank è§£æ~~ (å·²å®Œæˆ)  
3. âœ… ~~æ‹–æ‹½å¯¼å…¥~~ (å·²å®Œæˆ)
4. â³ æ™ºèƒ½å¤åˆ¶ç²˜è´´
5. â³ å¿«æ·é”®æ”¯æŒ

### ä¸­æœŸç›®æ ‡ (3-4å‘¨)

6. â³ é…¶åˆ‡åˆ†æå¢å¼º
7. â³ å¤šåºåˆ—æ¯”å¯¹å¯è§†åŒ–
8. â³ å¼•ç‰©è®¾è®¡å·¥å…·
9. â³ æ‰¹é‡æ“ä½œåŠŸèƒ½

### é•¿æœŸç›®æ ‡ (1-2æœˆ)

10. â³ åä½œç¼–è¾‘
11. â³ ç‰ˆæœ¬å†å²
12. â³ äº‘ç«¯åŒæ­¥
13. â³ ç§»åŠ¨ç«¯æ”¯æŒ

---

## ğŸ’¡ è´¡çŒ®æŒ‡å—

### ä»£ç é£æ ¼

- TypeScript ä¸¥æ ¼æ¨¡å¼
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ + Hooks
- çŠ¶æ€ç®¡ç†: React useState
- æ ·å¼: Ant Design + å†…è”æ ·å¼

### æäº¤ä¿¡æ¯æ ¼å¼

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æ·»åŠ æµ‹è¯•
chore: æ„å»º/å·¥å…·å˜åŠ¨
```

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·:
1. æäº¤ GitHub Issue
2. å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…
3. åŠ å…¥è®¨è®ºç¾¤

---

## ğŸ“„ è®¸å¯è¯

MIT License - å¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹

---

**æœ€åæ›´æ–°**: 2024-12-16
**ç‰ˆæœ¬**: v2.0.0-geneious-upgrade
**ç»´æŠ¤è€…**: BioLab Team